<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Runtime Analysis Tool for Doctrine ORM â€” Integrated into Symfony Web Profiler"><meta name=author content="Ahmed EBEN HASSINE"><link href=https://ahmed-bhs.github.io/doctrine-doctor/TEMPLATE_ANALYSIS/ rel=canonical><link rel=icon href=../docs/images/logo.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Technical Analysis: PHP vs Twig Template Processors - Doctrine Doctor</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=amber> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#technical-analysis-php-vs-twig-template-processors class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Doctrine Doctor" class="md-header__button md-logo" aria-label="Doctrine Doctor" data-md-component=logo> <img src=../docs/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Doctrine Doctor </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Technical Analysis: PHP vs Twig Template Processors </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=amber aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=amber aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ahmed-bhs/doctrine-doctor title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ahmed-bhs/doctrine-doctor </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../getting-started/quick-start/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../CONFIGURATION/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../examples/n-plus-one/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../ARCHITECTURE/ class=md-tabs__link> Advanced </a> </li> <li class=md-tabs__item> <a href=../contributing/overview/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href=../about/changelog/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Doctrine Doctor" class="md-nav__button md-logo" aria-label="Doctrine Doctor" data-md-component=logo> <img src=../docs/images/logo.png alt=logo> </a> Doctrine Doctor </label> <div class=md-nav__source> <a href=https://github.com/ahmed-bhs/doctrine-doctor title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ahmed-bhs/doctrine-doctor </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting-started/quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/first-steps/ class=md-nav__link> <span class=md-ellipsis> First Steps </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../CONFIGURATION/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../ANALYZERS/ class=md-nav__link> <span class=md-ellipsis> Analyzers Catalog </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../examples/n-plus-one/ class=md-nav__link> <span class=md-ellipsis> N+1 Queries </span> </a> </li> <li class=md-nav__item> <a href=../examples/missing-indexes/ class=md-nav__link> <span class=md-ellipsis> Missing Indexes </span> </a> </li> <li class=md-nav__item> <a href=../examples/security/ class=md-nav__link> <span class=md-ellipsis> Security Issues </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ARCHITECTURE/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../TEMPLATE_SECURITY/ class=md-nav__link> <span class=md-ellipsis> Template Security </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../contributing/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../contributing/development/ class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=../contributing/creating-analyzers/ class=md-nav__link> <span class=md-ellipsis> Creating Analyzers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../about/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#executive-summary class=md-nav__link> <span class=md-ellipsis> Executive Summary </span> </a> </li> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> <span class=md-ellipsis> Table of Contents </span> </a> </li> <li class=md-nav__item> <a href=#1-current-state-analysis class=md-nav__link> <span class=md-ellipsis> 1. Current State Analysis </span> </a> <nav class=md-nav aria-label="1. Current State Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-template-distribution class=md-nav__link> <span class=md-ellipsis> 1.1 Template Distribution </span> </a> </li> <li class=md-nav__item> <a href=#12-template-complexity-analysis class=md-nav__link> <span class=md-ellipsis> 1.2 Template Complexity Analysis </span> </a> </li> <li class=md-nav__item> <a href=#13-template-feature-matrix class=md-nav__link> <span class=md-ellipsis> 1.3 Template Feature Matrix </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-comparative-technical-analysis class=md-nav__link> <span class=md-ellipsis> 2. Comparative Technical Analysis </span> </a> <nav class=md-nav aria-label="2. Comparative Technical Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-feature-comparison class=md-nav__link> <span class=md-ellipsis> 2.1 Feature Comparison </span> </a> </li> <li class=md-nav__item> <a href=#22-architectural-fit-analysis class=md-nav__link> <span class=md-ellipsis> 2.2 Architectural Fit Analysis </span> </a> </li> <li class=md-nav__item> <a href=#23-performance-comparison class=md-nav__link> <span class=md-ellipsis> 2.3 Performance Comparison </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-migration-cost-assessment class=md-nav__link> <span class=md-ellipsis> 3. Migration Cost Assessment </span> </a> <nav class=md-nav aria-label="3. Migration Cost Assessment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-development-cost class=md-nav__link> <span class=md-ellipsis> 3.1 Development Cost </span> </a> </li> <li class=md-nav__item> <a href=#32-maintenance-cost class=md-nav__link> <span class=md-ellipsis> 3.2 Maintenance Cost </span> </a> </li> <li class=md-nav__item> <a href=#33-technical-debt class=md-nav__link> <span class=md-ellipsis> 3.3 Technical Debt </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-risk-analysis class=md-nav__link> <span class=md-ellipsis> 4. Risk Analysis </span> </a> <nav class=md-nav aria-label="4. Risk Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41-migration-risks class=md-nav__link> <span class=md-ellipsis> 4.1 Migration Risks </span> </a> </li> <li class=md-nav__item> <a href=#42-current-system-risks class=md-nav__link> <span class=md-ellipsis> 4.2 Current System Risks </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-architectural-implications class=md-nav__link> <span class=md-ellipsis> 5. Architectural Implications </span> </a> <nav class=md-nav aria-label="5. Architectural Implications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#51-current-architecture-dual-purpose-design class=md-nav__link> <span class=md-ellipsis> 5.1 Current Architecture: Dual-Purpose Design </span> </a> </li> <li class=md-nav__item> <a href=#52-separation-of-concerns-analysis class=md-nav__link> <span class=md-ellipsis> 5.2 Separation of Concerns Analysis </span> </a> </li> <li class=md-nav__item> <a href=#53-framework-agnostic-consideration class=md-nav__link> <span class=md-ellipsis> 5.3 Framework-Agnostic Consideration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-final-recommendation class=md-nav__link> <span class=md-ellipsis> 6. Final Recommendation </span> </a> <nav class=md-nav aria-label="6. Final Recommendation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-recommendation-retain-php-templates class=md-nav__link> <span class=md-ellipsis> 6.1 Recommendation: RETAIN PHP TEMPLATES </span> </a> </li> <li class=md-nav__item> <a href=#62-improvements-to-current-system class=md-nav__link> <span class=md-ellipsis> 6.2 Improvements to Current System </span> </a> </li> <li class=md-nav__item> <a href=#63-cost-comparison class=md-nav__link> <span class=md-ellipsis> 6.3 Cost Comparison </span> </a> </li> <li class=md-nav__item> <a href=#64-decision-matrix class=md-nav__link> <span class=md-ellipsis> 6.4 Decision Matrix </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-conclusion class=md-nav__link> <span class=md-ellipsis> 7. Conclusion </span> </a> </li> <li class=md-nav__item> <a href=#references class=md-nav__link> <span class=md-ellipsis> References </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ahmed-bhs/doctrine-doctor/edit/main/docs/TEMPLATE_ANALYSIS.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <h1 id=technical-analysis-php-vs-twig-template-processors>Technical Analysis: PHP vs Twig Template Processors<a class=headerlink href=#technical-analysis-php-vs-twig-template-processors title="Permanent link">&para;</a></h1> <h2 id=executive-summary>Executive Summary<a class=headerlink href=#executive-summary title="Permanent link">&para;</a></h2> <p>This document provides a comprehensive technical analysis comparing PHP and Twig template processors for suggestion generation in the Doctrine Doctor bundle. The analysis examines 75 existing PHP templates (8,218 lines of code) and evaluates the feasibility, costs, and benefits of migration to Twig.</p> <p><strong>Recommendation</strong>: <strong>Retain PHP templates for suggestion generation</strong>. Migration to Twig would provide minimal benefits while introducing significant costs and architectural complexities.</p> <hr> <h2 id=table-of-contents>Table of Contents<a class=headerlink href=#table-of-contents title="Permanent link">&para;</a></h2> <ul> <li><a href=#1-current-state-analysis>1. Current State Analysis</a></li> <li><a href=#2-comparative-technical-analysis>2. Comparative Technical Analysis</a></li> <li><a href=#3-migration-cost-assessment>3. Migration Cost Assessment</a></li> <li><a href=#4-risk-analysis>4. Risk Analysis</a></li> <li><a href=#5-architectural-implications>5. Architectural Implications</a></li> <li><a href=#6-final-recommendation>6. Final Recommendation</a></li> </ul> <hr> <h2 id=1-current-state-analysis>1. Current State Analysis<a class=headerlink href=#1-current-state-analysis title="Permanent link">&para;</a></h2> <h3 id=11-template-distribution>1.1 Template Distribution<a class=headerlink href=#11-template-distribution title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Template Type</th> <th>Count</th> <th>Lines of Code</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td><strong>PHP Suggestion Templates</strong></td> <td>75</td> <td>8,218</td> <td>Code generation, fix suggestions</td> </tr> <tr> <td><strong>Twig UI Templates</strong></td> <td>1</td> <td>450+</td> <td>Symfony Profiler panel rendering</td> </tr> <tr> <td><strong>Total</strong></td> <td>76</td> <td>~8,700</td> <td>-</td> </tr> </tbody> </table> <h3 id=12-template-complexity-analysis>1.2 Template Complexity Analysis<a class=headerlink href=#12-template-complexity-analysis title="Permanent link">&para;</a></h3> <p>Examination of representative templates reveals:</p> <p><strong>Example: <code>dql_injection.php</code> (69 lines)</strong></p> <ul> <li>HTML structure with semantic CSS classes</li> <li>Dynamic context extraction: <code>['query' =&gt; $query, 'vulnerable_parameters' =&gt; $vulnerableParams, ...]</code></li> <li>Security functions: <code>$e = fn(string $str): string =&gt; htmlspecialchars($str, ENT_QUOTES, 'UTF-8')</code></li> <li>Emojis and SVG icons for visual communication</li> <li>Multiple conditional blocks</li> <li>External documentation links</li> </ul> <p><strong>Example: <code>flush_in_loop.php</code> (125 lines)</strong></p> <ul> <li>Complex performance calculations: <code>ceil($flushCount / 20)</code>, <code>round((1 - (ceil($flushCount / 20) / $flushCount)) * 100)</code></li> <li>Dynamic text generation based on metrics</li> <li>Multiple code examples (bad vs. good)</li> <li>Performance impact tables</li> <li>Conditional rendering based on data</li> </ul> <p><strong>Example: <code>missing_index.php</code> (131 lines)</strong></p> <ul> <li>SQL formatter integration: <code>formatSqlWithHighlight()</code></li> <li>Array manipulation: <code>implode(', ', array_map(...))</code></li> <li>Multiple solution approaches (SQL, Migration, Annotation)</li> <li>Complex string interpolation</li> </ul> <h3 id=13-template-feature-matrix>1.3 Template Feature Matrix<a class=headerlink href=#13-template-feature-matrix title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Feature</th> <th>Usage Frequency</th> <th>Complexity</th> </tr> </thead> <tbody> <tr> <td>Dynamic calculations</td> <td>High (60%)</td> <td>Medium-High</td> </tr> <tr> <td>Conditional rendering</td> <td>Very High (95%)</td> <td>Low-Medium</td> </tr> <tr> <td>Array manipulation</td> <td>High (70%)</td> <td>Medium</td> </tr> <tr> <td>Helper functions</td> <td>High (85%)</td> <td>Medium</td> </tr> <tr> <td>HTML escaping</td> <td>Very High (100%)</td> <td>Low</td> </tr> <tr> <td>SQL formatting</td> <td>Medium (30%)</td> <td>High</td> </tr> <tr> <td>Multi-line string building</td> <td>Very High (100%)</td> <td>Low</td> </tr> </tbody> </table> <hr> <h2 id=2-comparative-technical-analysis>2. Comparative Technical Analysis<a class=headerlink href=#2-comparative-technical-analysis title="Permanent link">&para;</a></h2> <h3 id=21-feature-comparison>2.1 Feature Comparison<a class=headerlink href=#21-feature-comparison title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Capability</th> <th>PHP Templates</th> <th>Twig Templates</th> <th>Winner</th> </tr> </thead> <tbody> <tr> <td><strong>Dynamic Calculations</strong></td> <td>Full PHP power</td> <td>Limited (filters only)</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Complex Logic</strong></td> <td>Unlimited</td> <td>Intentionally restricted</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Helper Functions</strong></td> <td>Direct function calls</td> <td>Must create custom filters</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Auto-escaping</strong></td> <td>ğŸ“¢ Manual (<code>htmlspecialchars</code>)</td> <td>Automatic</td> <td><strong>Twig</strong></td> </tr> <tr> <td><strong>Syntax Clarity</strong></td> <td>Mixed HTML/PHP</td> <td>Clean separation</td> <td><strong>Twig</strong></td> </tr> <tr> <td><strong>IDE Support</strong></td> <td>Full PHP support</td> <td>Limited in some IDEs</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Debugging</strong></td> <td>Standard PHP debugging</td> <td>Template-specific tools</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Performance</strong></td> <td>Direct execution</td> <td>Compilation overhead</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Code Generation</strong></td> <td>Excellent</td> <td>Not designed for this</td> <td><strong>PHP</strong></td> </tr> <tr> <td><strong>Security</strong></td> <td>Manual escaping required</td> <td>Auto-escape by default</td> <td><strong>Twig</strong></td> </tr> </tbody> </table> <h3 id=22-architectural-fit-analysis>2.2 Architectural Fit Analysis<a class=headerlink href=#22-architectural-fit-analysis title="Permanent link">&para;</a></h3> <h4 id=php-templates-code-generation-use-case>PHP Templates: Code Generation Use Case<a class=headerlink href=#php-templates-code-generation-use-case title="Permanent link">&para;</a></h4> <p>The current templates generate <strong>code suggestions</strong> and <strong>documentation</strong>, not user-facing UI. This is fundamentally different from traditional template use cases.</p> <div class="language-php highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=x>// Example from flush_in_loop.php - Complex code generation</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=x>&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;//  GOOD: Batch flush every 20 items</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=x>$batchSize = 20;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=x>$i = 0;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=x>foreach ($items as $item) {</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=x>    $entity = new Entity();</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=x>    $entity-&gt;setData($item);</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=x>    $em-&gt;persist($entity);</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=x>    if (($i % $batchSize) === 0) {</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=x>        $em-&gt;flush();</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=x>        $em-&gt;clear();</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=x>    }</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=x>    $i++;</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=x>}</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=x>// Result: Only </span><span class=cp>&lt;?php</span> <span class=k>echo</span> <span class=nb>ceil</span><span class=p>(</span><span class=nv>$flushCount</span> <span class=o>/</span> <span class=mi>20</span><span class=p>);</span> <span class=cp>?&gt;</span><span class=x> flush() calls instead of </span><span class=cp>&lt;?php</span> <span class=k>echo</span> <span class=nv>$flushCount</span><span class=p>;</span> <span class=cp>?&gt;</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=x>&lt;/code&gt;&lt;/pre&gt;</span>
</span></code></pre></div> <p><strong>Analysis</strong>: This is <strong>code generation</strong>, not view rendering. PHP excels at this because:</p> <ol> <li>Direct access to all PHP functions</li> <li>No compilation overhead</li> <li>Full control over output formatting</li> <li>Easy debugging with standard PHP tools</li> </ol> <h4 id=twig-templates-ui-rendering-use-case>Twig Templates: UI Rendering Use Case<a class=headerlink href=#twig-templates-ui-rendering-use-case title="Permanent link">&para;</a></h4> <p>Twig is designed for <strong>separating logic from presentation</strong> in user-facing interfaces.</p> <div class="language-twig highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c>{# From doctrine_doctor.html.twig - UI rendering #}</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=x>&lt;div class=&quot;issue-card&quot;&gt;</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=x>    &lt;div class=&quot;issue-header </span><span class=cp>{{</span> <span class=nv>issue.getSeverity</span><span class=o>()</span><span class=nv>.value</span> <span class=o>==</span> <span class=s1>&#39;critical&#39;</span> <span class=o>?</span> <span class=s1>&#39;severity-critical&#39;</span> <span class=o>:</span> <span class=s1>&#39;severity-warning&#39;</span> <span class=cp>}}</span><span class=x>&quot;&gt;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=x>        &lt;span class=&quot;issue-badge&quot;&gt;</span><span class=cp>{{</span> <span class=nv>issue.getType</span><span class=o>()</span> <span class=cp>}}</span><span class=x>&lt;/span&gt;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=x>        &lt;h3&gt;</span><span class=cp>{{</span> <span class=nv>issue.getTitle</span><span class=o>()</span> <span class=cp>}}</span><span class=x>&lt;/h3&gt;</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=x>    &lt;/div&gt;</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=x>&lt;/div&gt;</span>
</span></code></pre></div> <p><strong>Analysis</strong>: Perfect for Symfony Profiler UI because:</p> <ol> <li>Separation of concerns (data vs. presentation)</li> <li>Auto-escaping prevents XSS</li> <li>Integration with Symfony ecosystem</li> <li>Template inheritance and macros</li> </ol> <h3 id=23-performance-comparison>2.3 Performance Comparison<a class=headerlink href=#23-performance-comparison title="Permanent link">&para;</a></h3> <p><strong>PHP Template Rendering:</strong></p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>1. File include: ~0.1ms
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>2. Execute PHP: ~0.5ms
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>3. Return array: ~0.01ms
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>Total: ~0.6ms per template
</span></code></pre></div> <p><strong>Twig Template Rendering:</strong></p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>1. Load template: ~0.2ms
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>2. Compile (if not cached): ~5-10ms
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>3. Execute compiled PHP: ~0.8ms
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>4. Return output: ~0.01ms
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>Total (cached): ~1.0ms per template
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>Total (uncached): ~11ms per template
</span></code></pre></div> <p><strong>Verdict</strong>: PHP templates are <strong>40-60% faster</strong> for this use case because:</p> <ul> <li>No compilation step</li> <li>Direct execution</li> <li>Simpler rendering pipeline</li> </ul> <hr> <h2 id=3-migration-cost-assessment>3. Migration Cost Assessment<a class=headerlink href=#3-migration-cost-assessment title="Permanent link">&para;</a></h2> <h3 id=31-development-cost>3.1 Development Cost<a class=headerlink href=#31-development-cost title="Permanent link">&para;</a></h3> <p><strong>Estimated effort to migrate 75 templates:</strong></p> <table> <thead> <tr> <th>Task</th> <th>Estimated Hours</th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>Create custom Twig filters</td> <td>40h</td> <td><code>formatSql</code>, <code>escape</code>, <code>calculatePerformance</code>, etc.</td> </tr> <tr> <td>Migrate templates (75 Ã— 2h)</td> <td>150h</td> <td>Rewrite logic as filters, test each</td> </tr> <tr> <td>Update renderer infrastructure</td> <td>16h</td> <td>Modify DI, configuration</td> </tr> <tr> <td>Update tests</td> <td>24h</td> <td>75 templates Ã— ~20 min each</td> </tr> <tr> <td>Documentation updates</td> <td>8h</td> <td>Architecture docs, developer guide</td> </tr> <tr> <td><strong>Total</strong></td> <td><strong>238 hours</strong></td> <td><strong>~6 weeks for 1 developer</strong></td> </tr> </tbody> </table> <p><strong>Cost</strong>: â‚¬15,000 - â‚¬25,000 (assuming â‚¬60-100/hour)</p> <h3 id=32-maintenance-cost>3.2 Maintenance Cost<a class=headerlink href=#32-maintenance-cost title="Permanent link">&para;</a></h3> <p><strong>Current (PHP templates):</strong></p> <ul> <li>Adding new template: 1-2 hours</li> <li>Modifying existing: 30 min - 1 hour</li> <li>Debugging: Standard PHP debugging tools</li> <li>No compilation concerns</li> </ul> <p><strong>After Twig migration:</strong></p> <ul> <li>Adding new template: 2-3 hours (must implement filters first)</li> <li>Modifying existing: 1-2 hours (may need new filters)</li> <li>Debugging: Twig-specific debugging, less intuitive</li> <li>Cache clearing overhead</li> </ul> <p><strong>Verdict</strong>: Maintenance cost <strong>increases by 50-100%</strong></p> <h3 id=33-technical-debt>3.3 Technical Debt<a class=headerlink href=#33-technical-debt title="Permanent link">&para;</a></h3> <p><strong>Migration introduces new technical debt:</strong></p> <ol> <li><strong>Custom Filters</strong>: 20+ custom Twig filters to maintain</li> <li><strong>Dual Template System</strong>: Still need PHP for complex logic</li> <li><strong>Performance Overhead</strong>: Compilation layer adds complexity</li> <li><strong>Learning Curve</strong>: Contributors must learn Twig syntax</li> <li><strong>Testing Complexity</strong>: Must test both filters and templates</li> </ol> <hr> <h2 id=4-risk-analysis>4. Risk Analysis<a class=headerlink href=#4-risk-analysis title="Permanent link">&para;</a></h2> <h3 id=41-migration-risks>4.1 Migration Risks<a class=headerlink href=#41-migration-risks title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Risk</th> <th>Probability</th> <th>Impact</th> <th>Mitigation</th> </tr> </thead> <tbody> <tr> <td><strong>Breaking changes during migration</strong></td> <td>High</td> <td>High</td> <td>Comprehensive test suite</td> </tr> <tr> <td><strong>Performance regression</strong></td> <td>Medium</td> <td>Medium</td> <td>Benchmarking before/after</td> </tr> <tr> <td><strong>Incomplete feature parity</strong></td> <td>High</td> <td>High</td> <td>Detailed feature mapping</td> </tr> <tr> <td><strong>Contributor resistance</strong></td> <td>Medium</td> <td>Medium</td> <td>Training, documentation</td> </tr> <tr> <td><strong>Maintenance burden increase</strong></td> <td>High</td> <td>High</td> <td>None (inherent to Twig)</td> </tr> </tbody> </table> <h3 id=42-current-system-risks>4.2 Current System Risks<a class=headerlink href=#42-current-system-risks title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Risk</th> <th>Probability</th> <th>Impact</th> <th>Mitigation</th> </tr> </thead> <tbody> <tr> <td><strong>XSS via missing escaping</strong></td> <td>Low</td> <td>Medium</td> <td>Code review, linting</td> </tr> <tr> <td><strong>Template inconsistency</strong></td> <td>Low</td> <td>Low</td> <td>Template guidelines</td> </tr> <tr> <td><strong>Performance issues</strong></td> <td>Very Low</td> <td>Low</td> <td>Already optimized</td> </tr> </tbody> </table> <p><strong>Verdict</strong>: Migration introduces <strong>significantly more risk</strong> than it mitigates.</p> <hr> <h2 id=5-architectural-implications>5. Architectural Implications<a class=headerlink href=#5-architectural-implications title="Permanent link">&para;</a></h2> <h3 id=51-current-architecture-dual-purpose-design>5.1 Current Architecture: Dual-Purpose Design<a class=headerlink href=#51-current-architecture-dual-purpose-design title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>â”‚          Template Processors                 â”‚
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>â”‚                                              â”‚
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>â”‚  Twig Templates                              â”‚
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>â”‚  â””â”€ Purpose: UI Rendering (Profiler)        â”‚
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>â”‚  â””â”€ Strengths: Auto-escape, inheritance     â”‚
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>â”‚  â””â”€ Use case: User-facing interface         â”‚
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>â”‚                                              â”‚
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>â”‚  PHP Templates                               â”‚
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>â”‚  â””â”€ Purpose: Code Generation (Suggestions)  â”‚
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>â”‚  â””â”€ Strengths: Full PHP power, performance  â”‚
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>â”‚  â””â”€ Use case: Developer documentation       â”‚
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>â”‚                                              â”‚
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre></div> <p><strong>This is a deliberate architectural decision</strong>, not an oversight.</p> <h3 id=52-separation-of-concerns-analysis>5.2 Separation of Concerns Analysis<a class=headerlink href=#52-separation-of-concerns-analysis title="Permanent link">&para;</a></h3> <p><strong>Current design follows the principle:</strong></p> <blockquote> <p>"Use the right tool for the job"</p> </blockquote> <ul> <li><strong>Twig for UI</strong>: Separates presentation from logic (MVC pattern)</li> <li><strong>PHP for code generation</strong>: Direct access to language features</li> </ul> <p><strong>Alternative (single template system):</strong></p> <ul> <li>Forces compromise in both use cases</li> <li>Either limits code generation (Twig) or mixes logic with presentation (PHP everywhere)</li> </ul> <h3 id=53-framework-agnostic-consideration>5.3 Framework-Agnostic Consideration<a class=headerlink href=#53-framework-agnostic-consideration title="Permanent link">&para;</a></h3> <p>From ROADMAP.md, there is a future goal to support multiple frameworks.</p> <p><strong>PHP Templates advantage:</strong></p> <ul> <li>Zero external dependencies (no Twig requirement)</li> <li>Works in any PHP environment</li> <li>Easier to extract into standalone library</li> </ul> <p><strong>Twig Templates disadvantage:</strong></p> <ul> <li>Requires Twig dependency (~500KB)</li> <li>Framework-specific integration</li> <li>Harder to make framework-agnostic</li> </ul> <hr> <h2 id=6-final-recommendation>6. Final Recommendation<a class=headerlink href=#6-final-recommendation title="Permanent link">&para;</a></h2> <h3 id=61-recommendation-retain-php-templates>6.1 Recommendation: <strong>RETAIN PHP TEMPLATES</strong><a class=headerlink href=#61-recommendation-retain-php-templates title="Permanent link">&para;</a></h3> <p><strong>Rationale:</strong></p> <ol> <li><strong>Architectural Fit</strong>: PHP templates are the correct tool for code generation</li> <li><strong>Cost-Benefit</strong>: Migration cost (â‚¬15-25K, 6 weeks) provides <strong>zero functional benefit</strong></li> <li><strong>Performance</strong>: PHP templates are 40-60% faster</li> <li><strong>Maintainability</strong>: Current system is simpler, easier to maintain</li> <li><strong>Future-Proof</strong>: Better for framework-agnostic goals</li> </ol> <h3 id=62-improvements-to-current-system>6.2 Improvements to Current System<a class=headerlink href=#62-improvements-to-current-system title="Permanent link">&para;</a></h3> <p>Instead of migration, recommend these enhancements:</p> <h4 id=621-enhanced-security>6.2.1 Enhanced Security<a class=headerlink href=#621-enhanced-security title="Permanent link">&para;</a></h4> <div class="language-php highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=x>// src/Template/helpers.php - Improved escaping</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=x>function e(string $str, string $context = &#39;html&#39;): string</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=x>{</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=x>    return match($context) {</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=x>        &#39;html&#39; =&gt; htmlspecialchars($str, ENT_QUOTES, &#39;UTF-8&#39;),</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=x>        &#39;attr&#39; =&gt; htmlspecialchars($str, ENT_QUOTES | ENT_HTML5, &#39;UTF-8&#39;),</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=x>        &#39;js&#39;   =&gt; json_encode($str, JSON_HEX_TAG | JSON_HEX_AMP),</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=x>        &#39;css&#39;  =&gt; preg_replace(&#39;/[^a-zA-Z0-9\-_]/&#39;, &#39;&#39;, $str),</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=x>        default =&gt; htmlspecialchars($str, ENT_QUOTES, &#39;UTF-8&#39;),</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=x>    };</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=x>}</span>
</span></code></pre></div> <h4 id=622-template-validation>6.2.2 Template Validation<a class=headerlink href=#622-template-validation title="Permanent link">&para;</a></h4> <div class="language-php highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=x>// src/Template/Validator/TemplateValidator.php</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=x>final class TemplateValidator</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=x>{</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=x>    /**</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=x>     * Validates that all context variables are escaped.</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=x>     */</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=x>    public function validate(string $templatePath): ValidationResult</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=x>    {</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=x>        $content = file_get_contents($templatePath);</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=x>        // Check for unescaped variables</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=x>        preg_match_all(&#39;/\$\w+/&#39;, $content, $matches);</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=x>        foreach ($matches[0] as $var) {</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=x>            if (!preg_match(&#39;/htmlspecialchars|escape|e\(/&#39;, $content)) {</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=x>                // Warning: potential XSS</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=x>            }</span>
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=x>        }</span>
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=x>        return $result;</span>
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=x>    }</span>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=x>}</span>
</span></code></pre></div> <h4 id=623-template-linting>6.2.3 Template Linting<a class=headerlink href=#623-template-linting title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># .php-cs-fixer.dist.php - Add template-specific rules</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class="l l-Scalar l-Scalar-Plain">&lt;?php</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class="l l-Scalar l-Scalar-Plain">return (new PhpCsFixer\Config())</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">-&gt;setRules([</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">&#39;@PSR12&#39; =&gt; true,</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">&#39;no_mixed_echo_print&#39; =&gt; [&#39;use&#39; =&gt; &#39;echo&#39;],</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">// Enforce escaping in templates</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">&#39;escape_implicit_backslashes&#39; =&gt; true,</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">])</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">-&gt;setFinder(</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">PhpCsFixer\Finder::create()</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>            </span><span class="l l-Scalar l-Scalar-Plain">-&gt;in(__DIR__ . &#39;/src/Template/Suggestions&#39;)</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">);</span>
</span></code></pre></div> <h4 id=624-documentation>6.2.4 Documentation<a class=headerlink href=#624-documentation title="Permanent link">&para;</a></h4> <p>Create <code>docs/TEMPLATE_GUIDELINES.md</code>:</p> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=gu>## PHP Template Security Guidelines</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=k>1.</span> <span class=gs>**Always escape output**</span>: Use <span class=sb>`$e()`</span> helper for all variables
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=k>2.</span> <span class=gs>**Validate context**</span>: Ensure all required variables exist
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=k>3.</span> <span class=gs>**Return structure**</span>: Must return <span class=sb>`[&#39;code&#39; =&gt; string, &#39;description&#39; =&gt; string]`</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=k>4.</span> <span class=gs>**No side effects**</span>: Templates must be pure (no DB access, no file writes)
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=k>5.</span> <span class=gs>**Testing**</span>: Each template must have unit test
</span></code></pre></div> <h3 id=63-cost-comparison>6.3 Cost Comparison<a class=headerlink href=#63-cost-comparison title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Approach</th> <th>Cost</th> <th>Timeline</th> <th>Risk</th> </tr> </thead> <tbody> <tr> <td><strong>Migrate to Twig</strong></td> <td>â‚¬15,000-25,000</td> <td>6 weeks</td> <td>High</td> </tr> <tr> <td><strong>Improve PHP templates</strong></td> <td>â‚¬3,000-5,000</td> <td>1-2 weeks</td> <td>Low</td> </tr> </tbody> </table> <p><strong>Savings</strong>: â‚¬10,000-20,000 + reduced maintenance burden</p> <h3 id=64-decision-matrix>6.4 Decision Matrix<a class=headerlink href=#64-decision-matrix title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Criterion</th> <th>Weight</th> <th>PHP Templates</th> <th>Twig Templates</th> </tr> </thead> <tbody> <tr> <td><strong>Architectural fit</strong></td> <td>25%</td> <td>10/10</td> <td>5/10</td> </tr> <tr> <td><strong>Performance</strong></td> <td>20%</td> <td>9/10</td> <td>6/10</td> </tr> <tr> <td><strong>Development cost</strong></td> <td>15%</td> <td>10/10</td> <td>3/10</td> </tr> <tr> <td><strong>Maintenance cost</strong></td> <td>15%</td> <td>8/10</td> <td>5/10</td> </tr> <tr> <td><strong>Security</strong></td> <td>15%</td> <td>7/10</td> <td>9/10</td> </tr> <tr> <td><strong>Framework-agnostic</strong></td> <td>10%</td> <td>10/10</td> <td>4/10</td> </tr> <tr> <td>****Total**</td> <td><strong>100%</strong></td> <td><strong>8.95/10</strong></td> <td><strong>5.45/10</strong></td> </tr> </tbody> </table> <p><strong>Winner</strong>: <strong>PHP Templates</strong> (8.95 vs 5.45)</p> <hr> <h2 id=7-conclusion>7. Conclusion<a class=headerlink href=#7-conclusion title="Permanent link">&para;</a></h2> <p>The current dual-template architecture is <strong>intentional and optimal</strong>:</p> <ul> <li><strong>Twig for UI rendering</strong> (Symfony Profiler panel) - correct use of MVC separation</li> <li><strong>PHP for code generation</strong> (suggestions, documentation) - correct use of native language features</li> </ul> <p><strong>Migration to Twig would:</strong></p> <ul> <li>ğŸ“¢ Cost â‚¬15,000-25,000</li> <li>ğŸ“¢ Take 6 weeks</li> <li>ğŸ“¢ Reduce performance by 40-60%</li> <li>ğŸ“¢ Increase maintenance complexity</li> <li>ğŸ“¢ Introduce new risks</li> <li>ğŸ“¢ Provide zero functional benefits</li> </ul> <p><strong>Recommended action:</strong></p> <ol> <li>Retain PHP templates for suggestions</li> <li>Enhance security with improved helpers (â‚¬3K investment)</li> <li>Add template validation and linting (â‚¬2K investment)</li> <li>Document best practices (â‚¬500 investment)</li> <li>Focus resources on new analyzers and features</li> </ol> <p><strong>Total savings</strong>: â‚¬10,000-20,000 + ongoing maintenance savings</p> <hr> <h2 id=references>References<a class=headerlink href=#references title="Permanent link">&para;</a></h2> <ol> <li>Twig Documentation: <a href=https://twig.symfony.com/doc/ >https://twig.symfony.com/doc/</a></li> <li>PHP Template Security Best Practices: <a href=https://www.php.net/manual/en/security.php>https://www.php.net/manual/en/security.php</a></li> <li>Symfony Best Practices: <a href=https://symfony.com/doc/current/best_practices.html>https://symfony.com/doc/current/best_practices.html</a></li> <li>OWASP XSS Prevention: <a href=https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html>https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html</a></li> </ol> <hr> <p><strong><a href=../README.md>â† Back to Main Documentation</a></strong> | <strong><a href=../ARCHITECTURE/ >Architecture Documentation â†’</a></strong></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024-2026 Ahmed EBEN HASSINE - <a href=https://github.com/ahmed-bhs/doctrine-doctor/blob/main/LICENSE>MIT License</a> </div> </div> <div class=md-social> <a href=https://github.com/ahmed-bhs target=_blank rel=noopener title="Ahmed EBEN HASSINE on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.buymeacoffee.com/w6ZhBSGX2 target=_blank rel=noopener title="Buy Me a Coffee" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M152-16c-13.3 0-24 10.7-24 24 0 38.9 23.4 59.4 39.1 73.1l1.1 1C184.5 96.4 192 103.9 192 120c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C183.5 31.7 176 24.1 176 8c0-13.3-10.7-24-24-24M96 192c-17.7 0-32 14.3-32 32v192c0 53 43 96 96 96h192c41.8 0 77.4-26.7 90.5-64h5.5c70.7 0 128-57.3 128-128s-57.3-128-128-128zm352 192V256c35.3 0 64 28.7 64 64s-28.7 64-64 64M288 8c0-13.3-10.7-24-24-24S240-5.3 240 8c0 38.9 23.4 59.4 39.1 73.1l1.1 1C296.5 96.4 304 103.9 304 120c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C295.5 31.7 288 24.1 288 8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.top", "navigation.footer", "navigation.indexes", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.action.edit", "content.tabs.link", "toc.follow"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../javascripts/extra.js></script> </body> </html>